

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Understanding and using data ranges &mdash; Databricks Labs Data Generator 0.11.0-dev1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/tdg.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Generating data that conforms to a known statistical distribution" href="DISTRIBUTIONS.html" />
    <link rel="prev" title="To be added" href="../TOBEADDED.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Databricks Labs Data Generator
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="APIDOCS.html">Get Started Here</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TOBEADDED.html">Installation instructions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using data ranges</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#precedence-rules-for-constraining-the-range-of-values">Precedence rules for constraining the range of values</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#handling-of-dates-and-timestamps">Handling of dates and timestamps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#recommendations">Recommendations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="DISTRIBUTIONS.html">Using data distributions</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quickindex.html">Quick API index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reference/api/modules.html">The dbldatagen package API</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributing to the Databricks Labs Data Generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html#building-the-code">Building the code</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html#testing">Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html#using-the-databricks-labs-data-generator">Using the Databricks Labs data generator</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html#coding-style">Coding Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">Change log</a></li>
<li class="toctree-l1"><a class="reference internal" href="requirements.html">Build requirements</a></li>
</ul>
<p class="caption"><span class="caption-text">License</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Databricks Labs Data Generator</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Understanding and using data ranges</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/relnotes/DATARANGES.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="understanding-and-using-data-ranges">
<h1>Understanding and using data ranges<a class="headerlink" href="#understanding-and-using-data-ranges" title="Permalink to this headline">¶</a></h1>
<p>The data generator uses data ranges to constrain the values for generated data.</p>
<p>By default, the data is only constrained to the range of the fields data type.</p>
<p>Additionally, unless the <code class="docutils literal notranslate"><span class="pre">percent_nulls</span></code> option is used, the value <code class="docutils literal notranslate"><span class="pre">null</span></code> will not be generated for a field value.</p>
<p>The range of values for the generated data may be controlled in the following ways:</p>
<ul class="simple">
<li><p>Specifying the <code class="docutils literal notranslate"><span class="pre">unique_values</span></code> option to control the unique values for a column</p></li>
<li><p>Specifying the <code class="docutils literal notranslate"><span class="pre">minValue</span></code>, <code class="docutils literal notranslate"><span class="pre">maxValue</span></code> and <code class="docutils literal notranslate"><span class="pre">step</span></code> options for a column</p></li>
<li><p>Specifying the <code class="docutils literal notranslate"><span class="pre">begin</span></code>, <code class="docutils literal notranslate"><span class="pre">end</span></code> and <code class="docutils literal notranslate"><span class="pre">interval</span></code> options for data and timestamp valued columns</p></li>
<li><p>Specifying an explicit set of values via the <code class="docutils literal notranslate"><span class="pre">values</span></code> option</p></li>
<li><p>Using a specific range object for a column</p></li>
</ul>
<blockquote>
<div><p>Each of the mechanisms for constraining the range of values determines the possible range of values
for a given column. It does not guarantee that all values will be generated.</p>
</div></blockquote>
<p>The set of actual values generated will be further constrained by the possible values of the underlying seed column.
For example if a column is specified to have 10 possible values but the seed column only generates two values
and random value generation is not used, then there will only be two values generated.</p>
<div class="section" id="precedence-rules-for-constraining-the-range-of-values">
<h2>Precedence rules for constraining the range of values<a class="headerlink" href="#precedence-rules-for-constraining-the-range-of-values" title="Permalink to this headline">¶</a></h2>
<p>Some of the options can lead to conflicting information about the range of possible values.</p>
<p>Our general philosophy is to try and generate data where possible - so if conflicting range constraints are specified,
we may reduce the range</p>
<p>The following rules apply to any ranged data specifications:</p>
<ul class="simple">
<li><p>if the <code class="docutils literal notranslate"><span class="pre">unique_values</span></code> option is used, its combined with the any range options to produce the effective range.
The number of unique_values is given highest priority, but the interval, start and end of the values tries to take
into account any range options specified. If the range does not allow for sufficient unique values to be generated,
the number of unique values is reduced.</p></li>
<li><p>if <code class="docutils literal notranslate"><span class="pre">values</span></code> are specified, the implied range is the set of values for column. Any other range options are ignored</p></li>
<li><p>If both a range object is specified and any of the options for <code class="docutils literal notranslate"><span class="pre">begin</span></code>, <code class="docutils literal notranslate"><span class="pre">end</span></code> , <code class="docutils literal notranslate"><span class="pre">interval</span></code> are specified,
the relevant value in the range object is used</p></li>
<li><p>If both a range object is specified and any of the options for <code class="docutils literal notranslate"><span class="pre">minValue</span></code>, <code class="docutils literal notranslate"><span class="pre">maxValue</span></code> , <code class="docutils literal notranslate"><span class="pre">step</span></code> are specified,
the relevant value in the range object is used</p></li>
<li><p>if the range of values conflicts with the underlying data type, the data type values take precedence. For example
a Boolean field with the range 1 .. 9 will be rescaled to the range 0 .. 1 and still produce both <code class="docutils literal notranslate"><span class="pre">True</span></code> and <code class="docutils literal notranslate"><span class="pre">False</span></code>
values</p></li>
</ul>
<div class="section" id="handling-of-dates-and-timestamps">
<h3>Handling of dates and timestamps<a class="headerlink" href="#handling-of-dates-and-timestamps" title="Permalink to this headline">¶</a></h3>
<p>For dates and timestamps, if a number of unique values is specified, these will be generated starting from the start
date time and incremented according to the interval. So if a date ranges is specified for a year with an interval of 7
days but only 10 unique values, the max value will be the starting date or time + 10 weeks</p>
<p>If the date range is specified and no interval is specified, but a number of unique values is specified, then
the interval will be computed to evenly space the values if possible.</p>
<p>If no interval is specified, the default interval of 1 day will be used for dates and 1 minute will be used for
timestamps unless other criteria force a different interval criteria.</p>
<p>As part of the overall goals for the Databricks Labs data generator is to be able to generate repeatable data sets,
if no starting datetime is specified for date time ranges, we will use the first day of the previous year as
the starting date. At the time of writing, this will be 2020/1/1</p>
<p>If no start date and no end date is specified, then we will use a default end date of the last day of the previous year.
At the time of writing, this will be 2020/12/31</p>
<p>if starting and ending dates are specified, we will not produce dates or timestamps outside of these, but the number of
unique values may be reduced, if there are insufficient values in the range.</p>
</div>
<div class="section" id="recommendations">
<h3>Recommendations<a class="headerlink" href="#recommendations" title="Permalink to this headline">¶</a></h3>
<p>While we will try to generate data where possible, for dates and times, we recommend explicitly specifying a
start and end date time.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="DISTRIBUTIONS.html" class="btn btn-neutral float-right" title="Generating data that conforms to a known statistical distribution" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../TOBEADDED.html" class="btn btn-neutral float-left" title="To be added" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, Databricks Inc.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>